(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{33:function(e,t,a){e.exports=a(56)},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},45:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),i=a.n(c),l=(a(38),a(39),a(40),a(12));var s=function(){return r.a.createElement("nav",{className:"navbar navbar-inverse navbar-fixed-top",id:"my-navbar"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"navbar-header"},r.a.createElement("button",{type:"button",className:"navbar-toggle","data-toggle":"collapse","data-target":"#navbar-collapse"},r.a.createElement("span",{className:"icon-bar"}),r.a.createElement("span",{className:"icon-bar"}),r.a.createElement("span",{className:"icon-bar"}),r.a.createElement("span",{className:"icon-bar"})),r.a.createElement(l.b,{to:"/"},r.a.createElement("a",{href:"javascript:void(0)",className:"navbar-brand"},"Herolo Home Assignment"))),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbar-collapse"},r.a.createElement("div",{className:"navbar-right"},r.a.createElement(l.b,{to:"/home"},r.a.createElement("a",{href:"javascript:void(0)",className:"btn btn-warning navbar-btn"},"Home")),r.a.createElement(l.b,{to:"/favorite"},r.a.createElement("a",{href:"javascript:void(0)",className:"btn btn-warning navbar-btn"},"Favorites"))))))},o=(a(45),a(13)),m=a(14),u=a(16),v=a(15),d=a(6),h=a(17),y=a(9),p=a(30),f=a.n(p),E=(a(50),"SELECTED_CITY"),b="kaamhYr1ejaXNNyX3T3AJNXiWi9v4zDq";var N=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(v.a)(t).call(this,e))).state={cityId:"",cityName:"",autocompleteData:[]},a.handleClick=a.handleClick.bind(Object(d.a)(a)),a.onChange=a.onChange.bind(Object(d.a)(a)),a.onSelect=a.onSelect.bind(Object(d.a)(a)),a.getItemValue=a.getItemValue.bind(Object(d.a)(a)),a.renderItem=a.renderItem.bind(Object(d.a)(a)),a.retrieveDataAsynchronously=a.retrieveDataAsynchronously.bind(Object(d.a)(a)),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"retrieveDataAsynchronously",value:function(e){var t=this;if(""!=e){var a="https://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=".concat(b,"&metric=false&q=").concat(e),n=new XMLHttpRequest;n.open("GET",a,!0),n.responseType="json",n.onload=function(){if(200==n.status){var e=[];n.response.forEach((function(t){var a={label:t.LocalizedName,value:t.Key};e.push(a)})),t.setState({autocompleteData:e})}else console.error("Cannot load data from remote source")},n.send()}else t.setState({autocompleteData:[]})}},{key:"onChange",value:function(e){this.setState({cityName:e.target.value}),this.retrieveDataAsynchronously(e.target.value)}},{key:"onSelect",value:function(e,t){this.setState({cityName:t.label,cityId:t.value})}},{key:"renderItem",value:function(e,t){return r.a.createElement("div",{key:e.value,style:{background:t?"lightgray":"white"}},e.label)}},{key:"getItemValue",value:function(e){return e.label}},{key:"handleClick",value:function(e){this.props.selectCity(this.state.cityName,this.state.cityId)}},{key:"render",value:function(){return r.a.createElement("div",{className:"SearchInput text-center"},r.a.createElement("div",{className:"inner-addon right-addon"},r.a.createElement(f.a,{getItemValue:this.getItemValue,items:this.state.autocompleteData,renderItem:this.renderItem,value:this.state.cityName,onChange:this.onChange,onSelect:this.onSelect,inputProps:{className:"form-control",placeholder:"Search"}}),r.a.createElement("i",{className:"glyphicon glyphicon-search",onClick:this.handleClick})),r.a.createElement("br",null))}}]),t}(n.Component),g=Object(y.b)(null,{selectCity:function(e,t){return function(a){!function(e,t,a){var n="https://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(t,"?metric=true&apikey=").concat(b);fetch(n).then((function(e){return e.json()})).then((function(n){n.cityName=e,n.cityId=t,function(e,t,a){var n="https://dataservice.accuweather.com/currentconditions/v1/".concat(t,"?getPhotos=true&apikey=").concat(b);fetch(n).then((function(e){return e.json()})).then((function(t){e.Images=t,a({type:E,payload:e})}))}(n,t,a)}))}(e,t,a)}}})(N);a(51),a(52);var C=function(e){return r.a.createElement("div",{className:"CityDetails"},r.a.createElement("img",{src:e.data.img,alt:"city"}),r.a.createElement("div",{className:"info"},r.a.createElement("h1",null,e.data.name),r.a.createElement("div",{className:"degrees"},e.data.degrees,r.a.createElement("span",null,"\xb0c"))))};a(53);var D=function(e){var t="glyphicon-heart-empty",a="btn-primary",n="Add to Favorites";return e.isFavorite&&(t="glyphicon-heart",a="btn-default",n="Remove from Favorite"),r.a.createElement("div",{className:"FavoriteBtn pull-right"},r.a.createElement("i",{className:"glyphicon "+t}),r.a.createElement("button",{type:"submit",className:"btn "+a,onClick:e.changeFavoriteBtn},n))};a(54);var j=function(e){return r.a.createElement("div",{className:"col-md-5ths"},r.a.createElement("div",{className:"day text-center"},r.a.createElement("h3",null,e.item.day),r.a.createElement("div",{className:"degrees"},e.item.degrees,r.a.createElement("span",null,"\xb0c"))))};var O=function(e){var t=e.data.map((function(e){return r.a.createElement(j,{key:e.id,item:e})}));return r.a.createElement("div",{className:"WeeklyWeather col-xs-12"},t)},k=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(v.a)(t).call(this,e))).handleFavoriteBtn=a.handleFavoriteBtn.bind(Object(d.a)(a)),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"checkFavorite",value:function(){var e=!1,t=this.props.cityData;return this.props.favoritesData.forEach((function(a){a.id==t.cityDetails.id&&(e=!0)})),e}},{key:"handleFavoriteBtn",value:function(){var e=this.props.cityData.cityDetails;e.isFavorite=!this.checkFavorite(),this.props.getFavoritesCity(e)}},{key:"getInitialHtml",value:function(){return r.a.createElement("div",{className:"SearchResultsInitial"},r.a.createElement("h2",null,"Select City"))}},{key:"getSelectedCityHtml",value:function(e){var t=this.checkFavorite();return r.a.createElement("div",{className:"SearchResults"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-6"},r.a.createElement(C,{data:e.cityDetails})),r.a.createElement("div",{className:"col-xs-6"},r.a.createElement(D,{isFavorite:t,changeFavoriteBtn:this.handleFavoriteBtn}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"jumbotron"},r.a.createElement("div",{className:"container text-center"},r.a.createElement("h2",null,e.cityDetails.dayWeather)))),r.a.createElement("div",{className:"row"},r.a.createElement(O,{data:e.weeklyWeather})))}},{key:"render",value:function(){var e=this.props.cityData;return null==e?this.getInitialHtml():this.getSelectedCityHtml(e)}}]),t}(r.a.Component),I=Object(y.b)((function(e){return{cityData:e.selectedCityData.selectedCity,favoritesData:e.favoritesCityData.favoritesCity}}),{getFavoritesCity:function(e){return{type:"FAVORITES_CITY",payload:e}}})(k);var S=function(){return r.a.createElement("div",{className:"HomeScreen"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement(g,null),r.a.createElement(I,null))))};a(55);var F=function(e){return r.a.createElement("div",{className:"col-md-5ths"},r.a.createElement("div",{className:"city text-center"},r.a.createElement("h3",null,e.item.name),r.a.createElement("div",{className:"degrees"},e.item.degrees,r.a.createElement("span",null,"\xb0c")),r.a.createElement("h4",null,e.item.dayWeather)))},w=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.favoritesCityData.map((function(e){return r.a.createElement(F,{key:e.id,item:e})}));return r.a.createElement("div",{className:"FavoritesCity col-xs-12"},e)}}]),t}(r.a.Component),T=Object(y.b)((function(e){return{favoritesCityData:e.favoritesCityData.favoritesCity}}))(w);var _=function(){return r.a.createElement("div",{className:"FavoriteScreen"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement(T,null))))},x=a(11);var V=function(){return r.a.createElement("div",{className:"MainContent"},r.a.createElement(x.c,null,r.a.createElement(x.a,{path:"/",exact:!0,component:S}),r.a.createElement(x.a,{path:"/Roei-Grumet-07-01-2020",component:S}),r.a.createElement(x.a,{path:"/home",component:S}),r.a.createElement(x.a,{path:"/favorite",component:_})))};var A=function(){return r.a.createElement(l.a,{basename:"/Roei-Grumet-07-01-2020"},r.a.createElement("div",{className:"App"},r.a.createElement(s,null),r.a.createElement(V,null)))},R=a(10),W=a(31),H=a(20),B={selectedCity:null};function L(e){var t={cityDetails:{}};return t.cityDetails.id=e.cityId,t.cityDetails.name=e.cityName,t.cityDetails.degrees=e.DailyForecasts[0].Temperature.Maximum.Value,t.cityDetails.dayWeather=e.DailyForecasts[0].Day.IconPhrase,t.cityDetails.img=e.Images[0].Photos[0].LandscapeLink.replace("L.jpg","S.jpg"),t.weeklyWeather=[],e.DailyForecasts.forEach((function(e,a){var n={};n.id=a,n.day=function(e){switch(new Date(e).getDay()){case 0:return"Sun";case 1:return"Mon";case 2:return"Tue";case 3:return"Wed";case 4:return"Thu";case 5:return"Fri";case 6:return"Sat";default:return""}}(e.Date),n.degrees=e.Temperature.Maximum.Value,t.weeklyWeather.push(n)})),t}var X=a(32),M={favoritesCity:[]},P=Object(R.c)({selectedCityData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(H.a)({},e,{selectedCity:L(t.payload)});default:return e}},favoritesCityData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FAVORITES_CITY":var a=t.payload,n=a.id,r=a.isFavorite;if(r)return Object(H.a)({},e,{favoritesCity:[].concat(Object(X.a)(e.favoritesCity),[t.payload])});var c=[];return e.favoritesCity.forEach((function(e){e.id!=n&&c.push(e)})),Object(H.a)({},e,{favoritesCity:c});default:return e}}}),Y=[W.a],q=Object(R.e)(P,Object(R.d)(R.a.apply(void 0,Y),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));i.a.render(r.a.createElement(y.a,{store:q},r.a.createElement(A,null)),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.99d2d22b.chunk.js.map